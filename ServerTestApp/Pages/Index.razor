@page "/"
@inject BlazoradeMsalOptions appOptions
@inject BlazoradeMsalService msalService

@code{
    string loginHint;
    IEnumerable<string> scopes;
    AuthenticationResult token;

    private async Task LoginClickAsync(MouseEventArgs e)
    {
        token = null;
        this.StateHasChanged();

        this.token = await msalService.AcquireTokenAsync(this.loginHint);
        if(null != this.token)
        {
            this.loginHint = this.token.IdTokenClaims["preferred_username"]?.ToString();
            this.StateHasChanged();
        }
    }
}


<h1>Hello, world!</h1>

Welcome to your new app.

<p>
    ClientId: @this.appOptions.ClientId
</p>

<hr />

<div class="input-group">
    <input id="login-hint" type="text" class="form-control" placeholder="Login hint" @bind-value="this.loginHint" @bind-value:event="oninput" />
    <div class="input-group-append">
        <button class="btn btn-primary" @onclick="this.LoginClickAsync">Log In</button>
    </div>
</div>

@if(null != this.token)
{
    <TokenViewer Token="token" />
}